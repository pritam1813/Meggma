{%- comment -%}
  Enhanced Collection Section
  - Displays products in a responsive grid with animations
  - Configurable columns, colors, and layout options
  - Uses the existing product-card snippet
  - Includes pagination and product count
{%- endcomment -%}

{%- liquid
  assign columns_desktop = section.settings.columns_desktop | default: 4
  assign columns_tablet = section.settings.columns_tablet | default: 3
  assign columns_mobile = section.settings.columns_mobile | default: 2
  assign products_per_page = section.settings.products_per_page | default: 16
  assign gap = section.settings.gap | default: 24
  assign bg_color = section.settings.background_color | default: '#ffffff'
  assign text_color = section.settings.text_color | default: '#1a1a1a'
  assign show_product_count = section.settings.show_product_count
  assign show_description = section.settings.show_description
  assign enable_animations = section.settings.enable_animations
-%}

<style>
  #collection-section-{{ section.id }} {
    --col-bg: {{ bg_color }};
    --col-text: {{ text_color }};
    --col-desktop: {{ columns_desktop }};
    --col-tablet: {{ columns_tablet }};
    --col-mobile: {{ columns_mobile }};
    --col-gap: {{ gap }}px;
  }
</style>

<section id="collection-section-{{ section.id }}" class="collection-section">
  <div class="collection-container">
    {%- comment -%} Collection Header {%- endcomment -%}
    <div class="collection-header">
      <div class="collection-header__content">
        <h1 class="collection-header__title">{{ collection.title }}</h1>
        {% if show_product_count %}
          <span class="collection-header__count">
            {{ collection.products_count }}
            {{ collection.products_count | pluralize: 'product', 'products' }}
          </span>
        {% endif %}
      </div>
      {% if show_description and collection.description != blank %}
        <div class="collection-header__description">
          {{ collection.description }}
        </div>
      {% endif %}
    </div>

    {%- comment -%} Filters & Sort Toolbar {%- endcomment -%}
    <div class="collection-toolbar" id="collection-toolbar-{{ section.id }}">
      <div class="collection-toolbar__left">
        <button
          class="filter-toggle"
          type="button"
          aria-expanded="false"
          aria-controls="filter-drawer-{{ section.id }}"
        >
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 4h18M3 12h12M3 20h6"/>
          </svg>
          Filters
          {% if collection.filters != empty %}
            {% assign active_filters = 0 %}
            {% for filter in collection.filters %}
              {% for value in filter.active_values %}
                {% assign active_filters = active_filters | plus: 1 %}
              {% endfor %}
            {% endfor %}
            {% if active_filters > 0 %}
              <span class="filter-count">{{ active_filters }}</span>
            {% endif %}
          {% endif %}
        </button>
      </div>

      <div class="collection-toolbar__right">
        <div class="sort-wrapper">
          <label for="sort-select-{{ section.id }}" class="sr-only">Sort by</label>
          <select
            id="sort-select-{{ section.id }}"
            class="sort-select"
            onchange="window.location.href = this.value;"
          >
            {% for option in collection.sort_options %}
              <option
                value="{{ option.url }}"
                {% if option.value == collection.sort_by %}
                  selected
                {% endif %}
              >
                {{ option.name }}
              </option>
            {% endfor %}
          </select>
          <svg class="sort-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 9l6 6 6-6"/>
          </svg>
        </div>
      </div>
    </div>

    {%- comment -%} Filter Drawer {%- endcomment -%}
    <div class="filter-drawer" id="filter-drawer-{{ section.id }}" aria-hidden="true">
      <div class="filter-drawer__header">
        <h3>Filters</h3>
        <button type="button" class="filter-drawer__close" aria-label="Close filters">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <form class="filter-form" id="filter-form-{{ section.id }}">
        {% for filter in collection.filters %}
          <details
            class="filter-group"
            {% if forloop.index <= 3 %}
              open
            {% endif %}
          >
            <summary class="filter-group__header">
              <span>{{ filter.label }}</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 9l6 6 6-6"/>
              </svg>
            </summary>
            <div class="filter-group__content">
              {% case filter.type %}
                {% when 'list', 'boolean' %}
                  <ul class="filter-list">
                    {% for value in filter.values %}
                      <li class="filter-list__item">
                        <label class="filter-checkbox">
                          <input
                            type="checkbox"
                            name="{{ value.param_name }}"
                            value="{{ value.value }}"
                            {% if value.active %}
                              checked
                            {% endif %}
                            {% if value.count == 0 and value.active == false %}
                              disabled
                            {% endif %}
                          >
                          <span class="filter-checkbox__label">
                            {% if filter.type == 'boolean' %}
                              {{ value.label }}
                            {% else %}
                              {{ value.label }}
                            {% endif %}
                            <span class="filter-checkbox__count">({{ value.count }})</span>
                          </span>
                        </label>
                      </li>
                    {% endfor %}
                  </ul>

                {% when 'price_range' %}
                  <div class="filter-price-range">
                    <div class="filter-price-inputs">
                      <div class="filter-price-input">
                        <span class="filter-price-currency">{{ cart.currency.symbol }}</span>
                        <input
                          type="number"
                          name="{{ filter.min_value.param_name }}"
                          value="{{ filter.min_value.value | money_without_currency | replace: ',', '' }}"
                          min="0"
                          max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                          placeholder="{{ filter.min_value.value | default: 0 | money_without_currency }}"
                        >
                      </div>
                      <span class="filter-price-separator">-</span>
                      <div class="filter-price-input">
                        <span class="filter-price-currency">{{ cart.currency.symbol }}</span>
                        <input
                          type="number"
                          name="{{ filter.max_value.param_name }}"
                          value="{{ filter.max_value.value | money_without_currency | replace: ',', '' }}"
                          min="0"
                          max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                          placeholder="{{ filter.range_max | money_without_currency }}"
                        >
                      </div>
                    </div>
                  </div>
              {% endcase %}
            </div>
          </details>
        {% endfor %}

        <div class="filter-actions">
          <button type="submit" class="filter-apply-btn">Apply Filters</button>
          {% if collection.filters != empty %}
            {% assign has_active_filters = false %}
            {% for filter in collection.filters %}
              {% if filter.active_values.size > 0 or filter.min_value.value != null or filter.max_value.value != null %}
                {% assign has_active_filters = true %}
                {% break %}
              {% endif %}
            {% endfor %}
            {% if has_active_filters %}
              <a href="{{ collection.url }}" class="filter-clear-btn">Clear All</a>
            {% endif %}
          {% endif %}
        </div>
      </form>
    </div>

    {%- comment -%} Active Filters {%- endcomment -%}
    {% if collection.filters != empty %}
      {% assign has_active = false %}
      {% for filter in collection.filters %}
        {% if filter.active_values.size > 0 %}
          {% assign has_active = true %}
          {% break %}
        {% endif %}
      {% endfor %}
      {% if has_active %}
        <div class="active-filters">
          {% for filter in collection.filters %}
            {% for value in filter.active_values %}
              <a href="{{ value.url_to_remove }}" class="active-filter-tag">
                {{ value.label }}
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M6 18L18 6M6 6l12 12"/>
                </svg>
              </a>
            {% endfor %}
          {% endfor %}
          <a href="{{ collection.url }}" class="active-filters__clear">Clear all</a>
        </div>
      {% endif %}
    {% endif %}

    {%- comment -%} Products Grid {%- endcomment -%}
    {% paginate collection.products by products_per_page %}
      <div class="collection-grid{% if enable_animations %} collection-grid--animated{% endif %}">
        {% for product in collection.products %}
          <div class="collection-grid__item" style="--item-index: {{ forloop.index }};">
            {% render 'product-card',
              product: product,
              card_bg: section.settings.card_bg_color,
              info_title_size: section.settings.title_font_size,
              info_title_color: section.settings.card_title_color,
              info_price_color: section.settings.card_price_color,
              button_text: section.settings.button_text,
              button_bg: section.settings.button_bg_color,
              button_text_color: section.settings.button_text_color,
              button_border_color: section.settings.button_border_color,
              button_hover_bg: section.settings.button_hover_bg,
              button_hover_text: section.settings.button_hover_text
            %}
          </div>
        {% else %}
          <div class="collection-empty">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"/>
            </svg>
            <p>No products found in this collection.</p>
          </div>
        {% endfor %}
      </div>

      {%- comment -%} Pagination {%- endcomment -%}
      {% if paginate.pages > 1 %}
        <nav class="collection-pagination" aria-label="Pagination">
          <div class="pagination-info">Page {{ paginate.current_page }} of {{ paginate.pages }}</div>
          <div class="pagination-links">
            {% if paginate.previous %}
              <a href="{{ paginate.previous.url }}" class="pagination-btn pagination-btn--prev">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M15 19l-7-7 7-7"/>
                </svg>
                Previous
              </a>
            {% endif %}

            <div class="pagination-numbers">
              {% for part in paginate.parts %}
                {% if part.is_link %}
                  <a href="{{ part.url }}" class="pagination-number">{{ part.title }}</a>
                {% else %}
                  {% if part.title == paginate.current_page %}
                    <span class="pagination-number pagination-number--current">{{ part.title }}</span>
                  {% else %}
                    <span class="pagination-number pagination-number--gap">{{ part.title }}</span>
                  {% endif %}
                {% endif %}
              {% endfor %}
            </div>

            {% if paginate.next %}
              <a href="{{ paginate.next.url }}" class="pagination-btn pagination-btn--next">
                Next
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 5l7 7-7 7"/>
                </svg>
              </a>
            {% endif %}
          </div>
        </nav>
      {% endif %}
    {% endpaginate %}
  </div>
</section>

{% stylesheet %}
  .collection-section {
    background-color: var(--col-bg);
    color: var(--col-text);
    padding: 3rem 0 5rem;
  }

  .collection-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  /* Header */
  .collection-header {
    margin-bottom: 2.5rem;
    text-align: center;
  }

  .collection-header__content {
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .collection-header__title {
    margin: 0;
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  .collection-header__count {
    font-size: 0.95rem;
    color: #888;
    background: #f5f5f5;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
  }

  .collection-header__description {
    max-width: 700px;
    margin: 1rem auto 0;
    font-size: 1rem;
    line-height: 1.7;
    opacity: 0.8;
  }

  /* Grid */
  .collection-grid {
    display: grid;
    grid-template-columns: repeat(var(--col-desktop), 1fr);
    gap: var(--col-gap);
  }

  .collection-grid__item {
    display: flex;
    justify-content: center;
  }

  /* Animations */
  .collection-grid--animated .collection-grid__item {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.6s ease forwards;
    animation-delay: calc(var(--item-index) * 0.05s);
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Empty State */
  .collection-empty {
    grid-column: 1 / -1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    text-align: center;
    color: #888;
  }

  .collection-empty svg {
    width: 64px;
    height: 64px;
    margin-bottom: 1rem;
    opacity: 0.5;
  }

  .collection-empty p {
    font-size: 1.125rem;
    margin: 0;
  }

  /* Pagination */
  .collection-pagination {
    margin-top: 3rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  .pagination-info {
    font-size: 0.875rem;
    color: #888;
  }

  .pagination-links {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .pagination-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    background: #f5f5f5;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    color: inherit;
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
    transition: all 0.2s ease;
  }

  .pagination-btn:hover {
    background: #eee;
    border-color: #ddd;
  }

  .pagination-btn svg {
    width: 16px;
    height: 16px;
  }

  .pagination-numbers {
    display: flex;
    align-items: center;
    gap: 0.25rem;
  }

  .pagination-number {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    height: 40px;
    padding: 0 0.5rem;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 8px;
    color: inherit;
    text-decoration: none;
    font-size: 0.875rem;
    transition: all 0.2s ease;
  }

  .pagination-number:hover {
    background: #f5f5f5;
  }

  .pagination-number--current {
    background: var(--col-text);
    color: var(--col-bg);
    font-weight: 600;
  }

  .pagination-number--gap {
    opacity: 0.5;
  }

  /* Tablet */
  @media (max-width: 1024px) {
    .collection-grid {
      grid-template-columns: repeat(var(--col-tablet), 1fr);
    }

    .collection-header__title {
      font-size: 2rem;
    }
  }

  /* Mobile */
  @media (max-width: 767px) {
    .collection-section {
      padding: 2rem 0 3rem;
    }

    .collection-container {
      padding: 0 1rem;
    }

    .collection-grid {
      grid-template-columns: repeat(var(--col-mobile), 1fr);
      gap: calc(var(--col-gap) * 0.75);
    }

    .collection-header {
      margin-bottom: 1.5rem;
    }

    .collection-header__title {
      font-size: 1.5rem;
    }

    .collection-header__count {
      font-size: 0.8rem;
    }

    .pagination-numbers {
      display: none;
    }

    .pagination-links {
      width: 100%;
      justify-content: space-between;
    }
  }

  /* Toolbar */
  .collection-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding: 1rem 0;
    border-bottom: 1px solid #eee;
  }

  .filter-toggle {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    background: #f5f5f5;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .filter-toggle:hover {
    background: #eee;
  }

  .filter-toggle svg {
    width: 18px;
    height: 18px;
  }

  .filter-count {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 20px;
    height: 20px;
    background: var(--col-text);
    color: var(--col-bg);
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 10px;
    padding: 0 6px;
  }

  .sort-wrapper {
    position: relative;
    display: inline-block;
  }

  .sort-select {
    appearance: none;
    padding: 0.625rem 2.5rem 0.625rem 1rem;
    background: #f5f5f5;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .sort-select:hover {
    background: #eee;
  }

  .sort-icon {
    position: absolute;
    right: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    pointer-events: none;
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
  }

  /* Filter Drawer */
  .filter-drawer {
    display: none;
    background: #fff;
    border: 1px solid #e5e5e5;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    overflow: hidden;
  }

  .filter-drawer.is-open {
    display: block;
  }

  .filter-drawer__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.25rem;
    background: #f9f9f9;
    border-bottom: 1px solid #e5e5e5;
  }

  .filter-drawer__header h3 {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
  }

  .filter-drawer__close {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    cursor: pointer;
    border-radius: 6px;
    transition: background 0.2s;
  }

  .filter-drawer__close:hover {
    background: #eee;
  }

  .filter-drawer__close svg {
    width: 18px;
    height: 18px;
  }

  .filter-form {
    padding: 1rem 1.25rem;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
  }

  .filter-group {
    border: 1px solid #eee;
    border-radius: 8px;
    overflow: hidden;
  }

  .filter-group__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1rem;
    background: #fafafa;
    cursor: pointer;
    font-weight: 500;
    font-size: 0.875rem;
    list-style: none;
  }

  .filter-group__header::-webkit-details-marker {
    display: none;
  }

  .filter-group__header svg {
    width: 16px;
    height: 16px;
    transition: transform 0.2s;
  }

  .filter-group[open] .filter-group__header svg {
    transform: rotate(180deg);
  }

  .filter-group__content {
    padding: 0.75rem 1rem;
    max-height: 200px;
    overflow-y: auto;
  }

  .filter-list {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .filter-list__item {
    margin-bottom: 0.5rem;
  }

  .filter-list__item:last-child {
    margin-bottom: 0;
  }

  .filter-checkbox {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-size: 0.875rem;
  }

  .filter-checkbox input {
    width: 16px;
    height: 16px;
    cursor: pointer;
  }

  .filter-checkbox__count {
    color: #888;
    font-size: 0.8rem;
  }

  .filter-price-inputs {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .filter-price-input {
    display: flex;
    align-items: center;
    flex: 1;
    background: #f5f5f5;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    overflow: hidden;
  }

  .filter-price-currency {
    padding: 0.5rem;
    background: #eee;
    font-size: 0.875rem;
  }

  .filter-price-input input {
    flex: 1;
    width: 100%;
    padding: 0.5rem;
    border: none;
    background: transparent;
    font-size: 0.875rem;
  }

  .filter-price-separator {
    color: #888;
  }

  .filter-actions {
    grid-column: 1 / -1;
    display: flex;
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #eee;
  }

  .filter-apply-btn {
    padding: 0.75rem 1.5rem;
    background: var(--col-text);
    color: var(--col-bg);
    border: none;
    border-radius: 8px;
    font-weight: 500;
    cursor: pointer;
    transition: opacity 0.2s;
  }

  .filter-apply-btn:hover {
    opacity: 0.9;
  }

  .filter-clear-btn {
    padding: 0.75rem 1.5rem;
    background: transparent;
    color: var(--col-text);
    border: 1px solid #ddd;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
    transition: background 0.2s;
  }

  .filter-clear-btn:hover {
    background: #f5f5f5;
  }

  /* Active Filters */
  .active-filters {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
  }

  .active-filter-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.75rem;
    background: #f0f0f0;
    border-radius: 20px;
    font-size: 0.8rem;
    color: inherit;
    text-decoration: none;
    transition: background 0.2s;
  }

  .active-filter-tag:hover {
    background: #e5e5e5;
  }

  .active-filter-tag svg {
    width: 14px;
    height: 14px;
    opacity: 0.6;
  }

  .active-filters__clear {
    font-size: 0.8rem;
    color: #888;
    text-decoration: underline;
  }

  @media (max-width: 767px) {
    .filter-form {
      grid-template-columns: 1fr;
    }

    .collection-toolbar {
      flex-wrap: wrap;
    }
  }
{% endstylesheet %}

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Filter toggle functionality
    const filterToggles = document.querySelectorAll('.filter-toggle');
    filterToggles.forEach((toggle) => {
      toggle.addEventListener('click', function () {
        const drawerId = this.getAttribute('aria-controls');
        const drawer = document.getElementById(drawerId);
        const isOpen = drawer.classList.contains('is-open');

        drawer.classList.toggle('is-open');
        this.setAttribute('aria-expanded', !isOpen);
        drawer.setAttribute('aria-hidden', isOpen);
      });
    });

    // Close drawer buttons
    const closeButtons = document.querySelectorAll('.filter-drawer__close');
    closeButtons.forEach((btn) => {
      btn.addEventListener('click', function () {
        const drawer = this.closest('.filter-drawer');
        const toggle = document.querySelector(`[aria-controls="${drawer.id}"]`);

        drawer.classList.remove('is-open');
        toggle.setAttribute('aria-expanded', 'false');
        drawer.setAttribute('aria-hidden', 'true');
      });
    });

    // Filter form submission
    const filterForms = document.querySelectorAll('.filter-form');
    filterForms.forEach((form) => {
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        const formData = new FormData(this);
        const params = new URLSearchParams();

        for (const [key, value] of formData.entries()) {
          if (value) {
            params.append(key, value);
          }
        }

        const baseUrl = window.location.pathname;
        const sortParam = new URLSearchParams(window.location.search).get('sort_by');
        if (sortParam) {
          params.append('sort_by', sortParam);
        }

        window.location.href = baseUrl + (params.toString() ? '?' + params.toString() : '');
      });
    });
  });
</script>

{% schema %}
{
  "name": "Collection Products",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "label": "Columns (Desktop)",
      "min": 2,
      "max": 6,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "columns_tablet",
      "label": "Columns (Tablet)",
      "min": 2,
      "max": 4,
      "step": 1,
      "default": 3
    },
    {
      "type": "range",
      "id": "columns_mobile",
      "label": "Columns (Mobile)",
      "min": 1,
      "max": 3,
      "step": 1,
      "default": 2
    },
    {
      "type": "range",
      "id": "products_per_page",
      "label": "Products per page",
      "min": 8,
      "max": 48,
      "step": 4,
      "default": 16
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Grid gap",
      "min": 8,
      "max": 48,
      "step": 4,
      "default": 24,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Header"
    },
    {
      "type": "checkbox",
      "id": "show_product_count",
      "label": "Show product count",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show collection description",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "enable_animations",
      "label": "Enable animations",
      "default": true
    },
    {
      "type": "header",
      "content": "Section Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#1a1a1a"
    },
    {
      "type": "header",
      "content": "Product Card"
    },
    {
      "type": "color",
      "id": "card_bg_color",
      "label": "Card background",
      "default": "#f5f5f5"
    },
    {
      "type": "range",
      "id": "title_font_size",
      "label": "Title font size",
      "min": 14,
      "max": 24,
      "step": 1,
      "default": 18,
      "unit": "px"
    },
    {
      "type": "color",
      "id": "card_title_color",
      "label": "Title color",
      "default": "#111827"
    },
    {
      "type": "color",
      "id": "card_price_color",
      "label": "Price color",
      "default": "#374151"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "View Product"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button background",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Button border color",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "button_hover_bg",
      "label": "Button hover background",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_hover_text",
      "label": "Button hover text",
      "default": "#ffffff"
    }
  ]
}
{% endschema %}
