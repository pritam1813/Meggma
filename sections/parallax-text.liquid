<section
  id="parallax-w-text"
  class="relative flex flex-col items-center justify-center min-h-screen px-6 py-24 bg-gray-50 text-center"
>
  <div class="relative w-full max-w-2xl flex flex-col items-center">
    <div id="textconatiner">
      <h1 id="txt1" class="text-4xl font-extrabold text-gray-900 mb-2">Main Section Heading</h1>
      <p id="txt2" class="text-xl text-gray-600 mb-8">This is the secondary line of text providing more context.</p>
    </div>

    <div id="mainimg" class="w-full max-w-md">
      <img
        src="
          https://s3-us-west-2.amazonaws.com/s.cdpn.io/32887/fred-
          blue.svg
        "
        alt="Main content"
        class="rounded-2xl shadow-2xl w-full object-cover"
        width="1920"
        height="1080"
      >
    </div>

    <div id="floatingimg" class="absolute -right-4 top-1/4 md:-right-12 lg:-right-20 transform translate-y-1/2">
      {% render 'rotating-circle-text',
        id: 'parallax-circle',
        radius: 120,
        center_text_line1: 'Main',
        center_text_line2: 'Text',
        circular_text: 'Circular Text Surrounding The Main Text • Cool SVG Design •',
        center_font_size: 24,
        circular_font_size: 14,
        center_color: '#1e293b',
        circular_color: '#4f46e5',
        trigger_element: 'parallax-w-text'
      %}
    </div>

    <div id="bottomele">
      <p class="mt-8 text-sm text-gray-500 max-w-sm">
        This is the smaller supplementary text that sits right below the main image to provide extra details or
        captions.
      </p>

      <div class="mt-8 flex flex-row gap-4">
        <button class="px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors">
          Primary Action
        </button>
        <button class="px-8 py-3 bg-white text-indigo-600 font-semibold border border-indigo-200 rounded-lg hover:bg-indigo-50 transition-colors">
          Learn More
        </button>
      </div>
    </div>
  </div>
</section>

<script>
  (function () {
    function initParallaxTextAnimations() {
      const tl1 = gsap
        .timeline()
        .from('#mainimg', { y: 500 })
        .from('#floatingimg', { y: 800, rotate: 360 }, '-=0.3')
        .from('#bottomele', { y: 500 });

      const tl2 = gsap.timeline().from('#txt1', { x: -400 }).from('#txt2', { x: 400 }, '<');

      ScrollTrigger.create({
        animation: tl2,
        trigger: '#textconatiner',
        scrub: 1,
        start: 'top 75%',
        end: 'bottom 25%',
      });

      ScrollTrigger.create({
        animation: tl1,
        trigger: '#parallax-w-text',
        scrub: 1,
        pin: true,
        start: 'top top',
      });

      // Note: Rotating text animation is handled by the rotating-circle-text snippet
    }

    // Run when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initParallaxTextAnimations);
    } else {
      initParallaxTextAnimations();
    }
  })();
</script>

{% schema %}
{
  "name": "Parallax Text",
  "settings": [],
  "presets": [
    {
      "name": "Parallax Text"
    }
  ]
}
{% endschema %}
