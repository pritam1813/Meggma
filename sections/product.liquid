{% comment %}
  This section is used in the product template to render product page with
  media, content, and add-to-cart form.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/product
{% endcomment %}

<div class="product-images">
  {% for image in product.images %}
    {% render 'image', class: 'product-image', image: image %}
  {% endfor %}
</div>

<div class="product-info">
  <h1>{{ product.title }}</h1>
  <p>{{ product.price | money }}</p>
  <div>{{ product.description }}</div>
</div>

<div class="product-form">
  {% form 'product', product %}
    {% assign current_variant = product.selected_or_first_available_variant %}

    {%- comment -%} Variant selector with label for accessibility {%- endcomment -%}
    <label for="variant-select-{{ section.id }}" class="sr-only">
      {{ 'products.product.select_variant' | t | default: 'Select variant' }}
    </label>
    <select name="id" id="variant-select-{{ section.id }}">
      {% for variant in product.variants %}
        <option
          value="{{ variant.id }}"
          {% if variant == current_variant %}
            selected="selected"
          {% endif %}
        >
          {{ variant.title }} - {{ variant.price | money }}
        </option>
      {% endfor %}
    </select>

    {%- comment -%} Quantity input with label for accessibility {%- endcomment -%}
    <label for="quantity-{{ section.id }}" class="sr-only">
      {{ 'products.product.quantity' | t | default: 'Quantity' }}
    </label>
    <input
      type="number"
      id="quantity-{{ section.id }}"
      name="quantity"
      min="1"
      value="1"
      aria-label="{{ 'products.product.quantity' | t | default: 'Quantity' }}"
    >

    <button type="submit">
      {{ 'products.product.add_to_cart' | t | default: 'Add to cart' }}
    </button>
    {{ form | payment_button }}
  {% endform %}
</div>

{%- comment -%} Screen reader only class for accessibility labels {%- endcomment -%}
<style>
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
</style>

{% schema %}
{
  "name": "t:general.product",
  "settings": [],
  "disabled_on": {
    "groups": ["header", "footer"]
  }
}
{% endschema %}
